<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register | Airline Ticket Management System</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" th:href="@{/assets/css/style.css}">

</head>
<body>


<div th:replace="fragments/navbar"></div>
<!--<div th:replace="fragments/booking-banner"></div>-->

<div class="row container" id="register_row">

    <div class="col">
        <div id="carouselExampleCaptions" class="carousel slide">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img th:src="@{/assets/img/register_slides/2.jpg}" class="d-block w-100" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Welcome to ATMS</h5>
                        <p>Plan your next trip now!</p>
                    </div>
                </div>
            </div>
               </div>
    </div>


    <div class="col">
        <div class="container">
            <form th:action="@{/save/user}" id="userForm" method="post">


                <div th:if="${param.error}" class="alert alert-warning">
                    Something Went Wrong
                </div>


                <h4>Personal Details</h4>
                <hr>
                <div class="row">
                    <div class="col">
                        <label  class="form-label">Full Name</label>
                        <input type="text" name="fullname" class="form-control">
                    </div>
                    <div class="col">
                        <label  class="form-label">Age</label>
                        <input type="number" min="13" max="99" name="age" class="form-control">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label  class="form-label">Address Line 1</label>
                        <input type="text" name="address" class="form-control">
                    </div>
                    <div class="col">
                        <label  class="form-label">Apt No</label>
                        <input type="text"  name="apt_no" class="form-control">
                    </div>
                    <div class="col">
                        <label  class="form-label">City</label>
                        <input type="text"  name="city" class="form-control">
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label  class="form-label">State/Province</label>
                        <input type="text"  name="state" class="form-control">
                    </div>
                    <div class="col">
                        <label  class="form-label">Country</label>
                        <input type="text"  name="country" class="form-control">
                    </div>
                    <div class="col">
                        <label  class="form-label">Zipcode</label>
                        <input type="text"  name="zipcode" maxlength="5" minlength="5" class="form-control">
                    </div>
                </div>
                <br>
                <h4>Login Details</h4>
                <hr>
                <div class="mb-3">
                    <label  class="form-label">Email</label>
                    <input type="text" name="email" class="form-control">

                </div>
                <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input type="password" name="password" class="form-control">

                </div>

                <button type="button" onclick="submitForm()" class="btn btn-primary btn-lg">Register Me</button>
            </form>

            <script>
    function submitForm() {
        // Get values of email and password fields
        var email = document.getElementsByName("email")[0].value;
        var password = document.getElementsByName("password")[0].value;

        // Create a new FormData object and append email and password
        var formData = new FormData();
        formData.append("email", email);
        formData.append("password", password);

        // Use fetch API to send a POST request
        fetch('/save/user', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            console.log('Success:', data);
            // Handle success as needed
        })
        .catch((error) => {
            console.error('Error:', error);
            // Handle error as needed
        });
    }
</script>
        </div>
    </div>

</div>



</body>
</html>